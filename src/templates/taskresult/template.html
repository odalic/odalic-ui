<!-- Main Content -->
<main-cnt>
    <!-- NavBar -->
    <navbar selected="none" lmenu="default-lm.json" rmenu="default-rm.json"></navbar>

    <div class="container-fluid">
        <!-- Content -->
        <loadico bind="dataload" size="5" center="true" showtxt="true">
            <div ng-switch="resview">
                <!-- Result display -->
                <div ng-switch-when="view">
                    <!-- Task information, warning messages, etc. -->
                    <task-info result="result"/>

                    <!-- Tabs -->
                    <uib-tabset active="active">
                        <uib-tab index="0" heading="Classifications and disambiguations"/>
                        <uib-tab index="1" heading="Subject columns" ng-if="!statistical"/>
                        <uib-tab index="2" heading="Dimensions and measures" ng-if="!!statistical"/>
                        <uib-tab index="3" heading="Relations" ng-if="!statistical"/>
                    </uib-tabset>

                    <!-- Content of the tabs -->
                    <span>
                        <!-- Main -->
                        <div ng-if="active == 0">
                            <h2>Column classifications and disambiguations of the values in cells</h2>

                            <!-- The table of results -->
                            <div ng-class="'cdTable'"
                                c-d-table input-file="inputFile" input-file-proxy="inputFileProxy"
                                result="result" selected-position="selectedPosition"
                                locked-table-cells="locked.tableCells" chosen-k-bs="chosenKBs" primary-k-b="{{ primaryKB }}" proposal="openCDProposal"
                                suggestion="openCDSelection" column-types="result.columnProcessingAnnotations">
                            </div>
                            <!--include src="src/templates/taskresult/view/classdisam/cdtable/cdtable.html"></include-->
                        </div>

                        <!-- Subject column for non-statistical data -->
                        <div ng-if="active == 1">
                            <h2>Subject columns</h2>

                            <!-- The table of subject column selection -->
                            <subject-column-tables/>
                        </div>

                        <!-- Data cube for statistical data -->
                        <div ng-if="active == 2">
                            <h2>Statistical data cube set-up</h2>

                            <!-- Data cube -->
                            <include src="src/templates/taskresult/view/statisticaldata/statisticaldata.html"/>
                        </div>

                        <!-- Relations -->
                        <div ng-if="active == 3">
                            <h2>Relations between columns</h2>

                            <!-- Graph visualiser -->
                            <graphvis bind="gvdata"/>
                        </div>
                    </span>

                    <!-- Buttons: send feedback, reexecute, previous step, next step -->
                    <control-buttons/>

                    <export/>
                </div>

                <!-- Failed task display -->
                <div ng-switch-when="failure">
                    <include src="src/templates/taskresult/failure/fdisplay.html"/>
                </div>
            </div>
        </loadico>
    </div>
</main-cnt>

<!-- Footer -->
<footer/>
